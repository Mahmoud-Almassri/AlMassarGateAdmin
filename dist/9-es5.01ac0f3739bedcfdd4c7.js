!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{qRGw:function(t,i,r){"use strict";r.r(i),r.d(i,"EmployeeManagementModule",(function(){return ge}));var a=r("ofXK"),n=r("tk/3"),l=r("3Pt+"),c=r("bTqV"),s=r("FKr1"),b=r("0IaG"),m=r("kmnG"),u=r("NFeN"),d=r("qFsG"),f=r("M9IT"),p=r("d3UM"),h=r("+0xr"),v=r("Qu3c"),S=r("tyNb"),y=r("gmcq"),g=r("inyj"),T=r("Jxek"),w=r("SOzR"),B=r("fXoL"),N=r("JqCM");function k(e,t){1&e&&(B.Tb(0,"mat-error"),B.Bc(1," This field is required *"),B.Sb())}function F(e,t){1&e&&(B.Tb(0,"mat-error"),B.Bc(1," This field is required *"),B.Sb())}function C(e,t){1&e&&(B.Tb(0,"mat-error"),B.Bc(1," This field is required *"),B.Sb())}function A(e,t){1&e&&(B.Tb(0,"mat-error"),B.Bc(1," This field is required *"),B.Sb())}function I(e,t){if(1&e&&(B.Tb(0,"mat-option",27),B.Bc(1),B.Sb()),2&e){var o=t.$implicit;B.kc("value",o.id),B.Bb(1),B.Dc("",o.name," ")}}function E(e,t){1&e&&(B.Tb(0,"mat-error"),B.Bc(1," This field is required *"),B.Sb())}function R(e,t){1&e&&(B.Tb(0,"mat-error"),B.Bc(1," This field is required *"),B.Sb())}var D,O=((D=function(){function t(o,i,r,a){e(this,t),this.baseService=o,this.notificationService=i,this.spinner=r,this.router=a,this.roles=[],this.registForm=new l.g({userName:new l.d("",l.u.required),fullName:new l.d("",l.u.required),phoneNumber:new l.d("",[l.u.required]),email:new l.d("",[l.u.required,l.u.email]),password:new l.d("",[l.u.required,l.u.minLength(6)]),roleId:new l.d(1,l.u.required),address:new l.d("")})}return o(t,[{key:"ngOnInit",value:function(){this.getRoles()}},{key:"getFormControlByName",value:function(e){return this.registForm.get(e)}},{key:"getRoles",value:function(){var e=this;this.baseService.getEmployeesRoles().subscribe((function(t){e.roles=t.filter((function(e){return"User"!=e.name}))}))}},{key:"submitForm",value:function(){var e=this;if(this.registForm.invalid)this.registForm.markAllAsTouched(),this.notificationService.showNotification("Please Check Form Fields","warning");else{this.spinner.show();var t=this.registForm.getRawValue();this.baseService.registEmployee(t).subscribe((function(t){e.spinner.hide(),e.notificationService.showNotification("Employee Created Successfully","success"),e.router.navigate(["/employees-management/list-employees"])}),(function(t){e.notificationService.showNotification(400===t.status?t.error.Message:"Something went wrong please contact system admin","danger"),e.spinner.hide()}))}}},{key:"restForm",value:function(){this.registForm.reset()}}]),t}()).\u0275fac=function(e){return new(e||D)(B.Nb(w.a),B.Nb(T.a),B.Nb(N.c),B.Nb(S.d))},D.\u0275cmp=B.Hb({type:D,selectors:[["app-add-employee"]],decls:64,vars:9,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-primary"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[3,"formGroup"],[1,"col"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","fullName","placeholder","Full Name"],[4,"ngIf"],["matInput","","formControlName","email","placeholder","example@email.com"],[1,"col","align-self-center"],["matInput","","formControlName","phoneNumber","placeholder","phone Number"],["matInput","","formControlName","address","placeholder","Address"],["matInput","","formControlName","userName","placeholder","user name"],["appearance","outline"],["formControlName","roleId"],[3,"value",4,"ngFor","ngForOf"],[1,"col-6","align-self-center"],["matInput","","type","password","formControlName","password","placeholder","Password"],[1,"col-lg-12"],["mat-raised-button","",1,"btn","btn-primary","pull-right",2,"margin","1px",3,"disabled","click"],["mat-raised-button","",1,"btn","btn-danger","pull-right",2,"margin","1px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"div",3),B.Tb(4,"div",4),B.Tb(5,"div",5),B.Tb(6,"h3",6),B.Bc(7,"Create New Employee"),B.Sb(),B.Tb(8,"p",7),B.Bc(9," Employees Management"),B.Sb(),B.Sb(),B.Tb(10,"div",8),B.Tb(11,"form",9),B.Tb(12,"div",2),B.Tb(13,"div",10),B.Tb(14,"mat-form-field",11),B.Tb(15,"mat-label"),B.Bc(16,"Employee Full Name"),B.Sb(),B.Ob(17,"input",12),B.Ac(18,k,2,0,"mat-error",13),B.Sb(),B.Sb(),B.Tb(19,"div",10),B.Tb(20,"mat-form-field",11),B.Tb(21,"mat-label"),B.Bc(22,"Email Address"),B.Sb(),B.Ob(23,"input",14),B.Ac(24,F,2,0,"mat-error",13),B.Sb(),B.Sb(),B.Sb(),B.Tb(25,"div",2),B.Tb(26,"div",15),B.Tb(27,"mat-form-field",11),B.Tb(28,"mat-label"),B.Bc(29,"Phone Number"),B.Sb(),B.Ob(30,"input",16),B.Ac(31,C,2,0,"mat-error",13),B.Sb(),B.Sb(),B.Tb(32,"div",10),B.Tb(33,"mat-form-field",11),B.Tb(34,"mat-label"),B.Bc(35,"Address "),B.Sb(),B.Ob(36,"input",17),B.Sb(),B.Sb(),B.Sb(),B.Tb(37,"div",2),B.Tb(38,"div",15),B.Tb(39,"mat-form-field",11),B.Tb(40,"mat-label"),B.Bc(41,"User Name"),B.Sb(),B.Ob(42,"input",18),B.Ac(43,A,2,0,"mat-error",13),B.Sb(),B.Sb(),B.Tb(44,"div",10),B.Tb(45,"mat-form-field",19),B.Tb(46,"mat-label"),B.Bc(47,"Role"),B.Sb(),B.Tb(48,"mat-select",20),B.Ac(49,I,2,2,"mat-option",21),B.Sb(),B.Ac(50,E,2,0,"mat-error",13),B.Sb(),B.Sb(),B.Sb(),B.Tb(51,"div",2),B.Tb(52,"div",22),B.Tb(53,"mat-form-field",11),B.Tb(54,"mat-label"),B.Bc(55,"Password"),B.Sb(),B.Ob(56,"input",23),B.Ac(57,R,2,0,"mat-error",13),B.Sb(),B.Sb(),B.Sb(),B.Tb(58,"div",2),B.Tb(59,"div",24),B.Tb(60,"button",25),B.ac("click",(function(){return t.submitForm()})),B.Bc(61,"Add"),B.Sb(),B.Tb(62,"button",26),B.ac("click",(function(){return t.restForm()})),B.Bc(63,"Rest"),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&e&&(B.Bb(11),B.kc("formGroup",t.registForm),B.Bb(7),B.kc("ngIf",t.getFormControlByName("fullName").touched&&t.getFormControlByName("fullName").invalid),B.Bb(6),B.kc("ngIf",t.getFormControlByName("email").touched&&t.getFormControlByName("email").invalid),B.Bb(7),B.kc("ngIf",t.getFormControlByName("phoneNumber").touched&&t.getFormControlByName("phoneNumber").invalid),B.Bb(12),B.kc("ngIf",t.getFormControlByName("userName").touched&&t.getFormControlByName("userName").invalid),B.Bb(6),B.kc("ngForOf",t.roles),B.Bb(1),B.kc("ngIf",t.getFormControlByName("roleId").touched&&t.getFormControlByName("roleId").invalid),B.Bb(7),B.kc("ngIf",t.getFormControlByName("password").touched&&t.getFormControlByName("password").invalid),B.Bb(3),B.kc("disabled",t.registForm.invalid))},directives:[l.v,l.p,l.h,m.c,m.f,d.b,l.c,l.o,l.f,a.l,p.a,a.k,c.b,m.b,s.n],styles:["form[_ngcontent-%COMP%]{overflow-x:hidden}"]}),D),P=r("Dh3D"),q=r("6osZ"),x=r("62t3"),M=r("P8U+");function $(e,t){if(1&e&&(B.Tb(0,"mat-option",15),B.Bc(1),B.Sb()),2&e){var o=t.$implicit;B.kc("value",o.id),B.Bb(1),B.Dc(" ",o.name," ")}}function U(e,t){1&e&&(B.Tb(0,"th",36),B.Bc(1," Name "),B.Sb())}function L(e,t){if(1&e&&(B.Tb(0,"td",37),B.Bc(1),B.Sb()),2&e){var o=t.$implicit;B.Bb(1),B.Dc(" ",o.fullName," ")}}function V(e,t){1&e&&(B.Tb(0,"th",36),B.Bc(1," UserName "),B.Sb())}function G(e,t){if(1&e&&(B.Tb(0,"td",37),B.Bc(1),B.Sb()),2&e){var o=t.$implicit;B.Bb(1),B.Dc(" ",o.userName," ")}}function Q(e,t){1&e&&(B.Tb(0,"th",36),B.Bc(1," Email "),B.Sb())}function z(e,t){if(1&e&&(B.Tb(0,"td",37),B.Bc(1),B.Sb()),2&e){var o=t.$implicit;B.Bb(1),B.Dc(" ",o.email," ")}}function H(e,t){1&e&&(B.Tb(0,"th",36),B.Bc(1," Phone Number "),B.Sb())}function j(e,t){if(1&e&&(B.Tb(0,"td",37),B.Bc(1),B.Sb()),2&e){var o=t.$implicit;B.Bb(1),B.Dc(" ",o.phoneNumber," ")}}function _(e,t){1&e&&(B.Tb(0,"th",36),B.Bc(1," Status "),B.Sb())}function J(e,t){if(1&e&&(B.Tb(0,"td",37),B.Bc(1),B.Sb()),2&e){var o=t.$implicit;B.Bb(1),B.Dc(" ",o.isActive?"Active":"In Active"," ")}}function K(e,t){1&e&&(B.Tb(0,"th",36),B.Bc(1," Actions "),B.Sb())}function X(e,t){if(1&e){var o=B.Ub();B.Tb(0,"button",42),B.ac("click",(function(){B.rc(o);var e=B.ec().$implicit;return B.ec().updateEmployeeStatus(e,!1)})),B.Tb(1,"mat-icon"),B.Bc(2,"block"),B.Sb(),B.Sb()}}function W(e,t){if(1&e){var o=B.Ub();B.Tb(0,"button",43),B.ac("click",(function(){B.rc(o);var e=B.ec().$implicit;return B.ec().updateEmployeeStatus(e,!0)})),B.Tb(1,"mat-icon"),B.Bc(2,"check"),B.Sb(),B.Sb()}}function Z(e,t){if(1&e){var o=B.Ub();B.Tb(0,"td",37),B.Ac(1,X,3,0,"button",38),B.Ac(2,W,3,0,"button",39),B.Tb(3,"button",40),B.ac("click",(function(){B.rc(o);var e=t.$implicit;return B.ec().delete(e.id)})),B.Tb(4,"mat-icon"),B.Bc(5,"delete_forever"),B.Sb(),B.Sb(),B.Tb(6,"button",41),B.ac("click",(function(){B.rc(o);var e=t.$implicit;return B.ec().editItem(e.id)})),B.Tb(7,"mat-icon"),B.Bc(8,"create"),B.Sb(),B.Sb(),B.Sb()}if(2&e){var i=t.$implicit;B.Bb(1),B.kc("ngIf",i.isActive),B.Bb(1),B.kc("ngIf",!i.isActive)}}function Y(e,t){1&e&&B.Ob(0,"tr",44)}function ee(e,t){1&e&&B.Ob(0,"tr",45)}function te(e,t){1&e&&(B.Tb(0,"tr",46),B.Tb(1,"td",47),B.Bc(2,"No data matching the filter "),B.Sb(),B.Sb())}var oe=function(){return["/employees-management/create-new-employee"]};function ie(e,t){1&e&&(B.Tb(0,"mat-error"),B.Bc(1," This field is required *"),B.Sb())}function re(e,t){1&e&&(B.Tb(0,"mat-error"),B.Bc(1," This field is required *"),B.Sb())}function ae(e,t){1&e&&(B.Tb(0,"mat-error"),B.Bc(1," This field is required *"),B.Sb())}function ne(e,t){1&e&&(B.Tb(0,"mat-error"),B.Bc(1," This field is required *"),B.Sb())}function le(e,t){if(1&e&&(B.Tb(0,"mat-option",33),B.Bc(1),B.Sb()),2&e){var o=t.$implicit;B.kc("value",o.id),B.Bb(1),B.Cc(o.name)}}function ce(e,t){1&e&&(B.Tb(0,"th",34),B.Bc(1," User "),B.Sb())}function se(e,t){if(1&e&&(B.Tb(0,"td",35),B.Bc(1),B.Sb()),2&e){var o=t.$implicit;B.Bb(1),B.Dc(" ",null==o?null:o.userId," ")}}function be(e,t){1&e&&(B.Tb(0,"th",34),B.Bc(1," Role "),B.Sb())}function me(e,t){if(1&e&&(B.Tb(0,"td",35),B.Bc(1),B.Sb()),2&e){var o=t.$implicit,i=B.ec();B.Bb(1),B.Dc(" ",i.getRoleNameById(null==o?null:o.roleId)," ")}}function ue(e,t){1&e&&(B.Tb(0,"th",34),B.Bc(1," Actions "),B.Sb())}function de(e,t){if(1&e){var o=B.Ub();B.Tb(0,"td",35),B.Tb(1,"button",36),B.ac("click",(function(){B.rc(o);var e=t.$implicit;return B.ec().removeEmployeeRoles(e.userId,e.roleId)})),B.Tb(2,"mat-icon"),B.Bc(3,"delete_forever"),B.Sb(),B.Sb(),B.Sb()}}function fe(e,t){1&e&&B.Ob(0,"tr",37)}function pe(e,t){1&e&&B.Ob(0,"tr",38)}var he,ve,Se,ye=[{component:(ve=function(){function t(o,i,r,a,n){e(this,t),this.baseService=o,this.spinner=i,this.yesNoDialog=r,this.router=a,this.notification=n,this.displayedColumns=["name","userName","phoneNumber","email","isActive","actions"],this.loockupsStatuses=q.b,this.employeesList=[],this.roles=[],this.filterForm=new l.g({roleType:new l.d,isActive:new l.d,searchValue:new l.d,pageNumber:new l.d(1),pageSize:new l.d(100)})}return o(t,[{key:"ngOnInit",value:function(){this.listEmployees(),this.getRoles()}},{key:"getRoles",value:function(){var e=this;this.baseService.getEmployeesRoles().subscribe((function(t){e.roles=t.filter((function(e){return"User"!=e.name}))}))}},{key:"listEmployees",value:function(){var e=this;this.spinner.show(),this.baseService.getList(x.b.Employee,this.filterForm.value).subscribe((function(t){e.employeesList=t.entities,e.totalCount=t.totalCount,e.dataSource=new h.l(e.employeesList),e.dataSource.sort=e.sort,e.spinner.hide()}))}},{key:"changePage",value:function(e){this.getFilterFormControlByName("pageNumber").setValue(e.pageIndex+1),this.getFilterFormControlByName("pageSize").setValue(e.pageSize),this.listEmployees()}},{key:"getFilterFormControlByName",value:function(e){return this.filterForm.get(e)}},{key:"editItem",value:function(e){this.router.navigate(["/employees-management/view-edit-employees/"+e])}},{key:"applyFilter",value:function(){this.listEmployees()}},{key:"updateEmployeeStatus",value:function(e,t){var o=this;e.isActive=t,this.baseService.updateEmployeeInfo(e).subscribe((function(e){o.notification.showNotification("Employee Status Modified Successfully","success"),o.listEmployees()}),(function(e){console.log(e),o.notification.showNotification(400===e.status?e.error.Message:"Something went wrong please contact system admin","danger"),o.spinner.hide()}))}},{key:"delete",value:function(e){var t=this;this.yesNoDialog.open(M.a,{maxWidth:"400px",data:{title:"Delete Employee",content:"Are you sure?"}}).afterClosed().subscribe((function(o){o&&(t.spinner.show(),t.baseService.removeItem(x.b.Employee,e).subscribe((function(e){t.notification.showNotification("Employee Deleted Successfully","success"),t.listEmployees()}),(function(e){t.spinner.hide(),t.notification.showNotification(400===e.status?e.error.Message:"Something went wrong please contact system admin","danger")})))}))}},{key:"deleteItemFromList",value:function(e){this.employeesList=this.employeesList.filter((function(t){return t.id!==e}))}},{key:"restFilter",value:function(){this.filterForm.reset(),this.filterForm.get("pageNumber").setValue(1),this.filterForm.get("pageSize").setValue(10),this.listEmployees()}}]),t}(),ve.\u0275fac=function(e){return new(e||ve)(B.Nb(w.a),B.Nb(N.c),B.Nb(b.b),B.Nb(S.d),B.Nb(T.a))},ve.\u0275cmp=B.Hb({type:ve,selectors:[["app-list-employees"]],viewQuery:function(e,t){var o;1&e&&(B.Ec(f.a,!0),B.Ec(P.a,!0)),2&e&&(B.oc(o=B.bc())&&(t.paginator=o.first),B.oc(o=B.bc())&&(t.sort=o.first))},decls:73,vars:13,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-primary"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[3,"formGroup"],[1,"background"],[1,"col"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","searchValue","placeholder","Name , UserName , Email , Phone Number ..."],["formControlName","isActive","name","status"],[3,"value"],["formControlName","roleType","name","roleType"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","",1,"btn","btn-primary","pull-right",2,"margin","1px",3,"click"],["mat-raised-button","",1,"btn","btn-primary","pull-right",2,"margin","1px",3,"routerLink"],[1,"clearfix"],[1,"table-responsive"],[1,"mat-elevation-z8","w-100"],["mat-table","","matSort","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","userName"],["matColumnDef","email"],["matColumnDef","phoneNumber"],["matColumnDef","isActive"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["class","data-row","mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"length","pageIndex","pageSize","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","btn btn-warning m-2","mat-icon-button","","aria-label","Deactivate",3,"click",4,"ngIf"],["class","btn btn-success m-2","mat-icon-button","","aria-label","Activate",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Deactivate",1,"btn","btn-danger","m-2",3,"click"],["mat-icon-button","","aria-label","Edit",1,"btn","btn-primary","m-2",3,"click"],["mat-icon-button","","aria-label","Deactivate",1,"btn","btn-warning","m-2",3,"click"],["mat-icon-button","","aria-label","Activate",1,"btn","btn-success","m-2",3,"click"],["mat-header-row",""],["mat-row","",1,"data-row"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"div",3),B.Tb(4,"div",4),B.Tb(5,"div",5),B.Tb(6,"h3",6),B.Bc(7,"Employees"),B.Sb(),B.Tb(8,"p",7),B.Bc(9," Employees Management"),B.Sb(),B.Sb(),B.Tb(10,"div",8),B.Tb(11,"form",9),B.Tb(12,"h4",10),B.Tb(13,"span"),B.Bc(14),B.Sb(),B.Sb(),B.Tb(15,"div",2),B.Tb(16,"div",11),B.Tb(17,"mat-form-field",12),B.Tb(18,"mat-label"),B.Bc(19,"Filter By Text"),B.Sb(),B.Ob(20,"input",13),B.Sb(),B.Sb(),B.Tb(21,"div",11),B.Tb(22,"mat-form-field",12),B.Tb(23,"mat-label"),B.Bc(24,"Status"),B.Sb(),B.Tb(25,"mat-select",14),B.Tb(26,"mat-option",15),B.Bc(27," In Active "),B.Sb(),B.Tb(28,"mat-option",15),B.Bc(29," Active "),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Tb(30,"div",11),B.Tb(31,"mat-form-field",12),B.Tb(32,"mat-label"),B.Bc(33,"User Type"),B.Sb(),B.Tb(34,"mat-select",16),B.Ac(35,$,2,2,"mat-option",17),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Tb(36,"div",2),B.Tb(37,"div",3),B.Tb(38,"button",18),B.ac("click",(function(){return t.applyFilter()})),B.Bc(39,"Search"),B.Sb(),B.Tb(40,"button",19),B.Bc(41,"Create New Employee"),B.Sb(),B.Tb(42,"button",18),B.ac("click",(function(){return t.restFilter()})),B.Bc(43,"Reset Filter"),B.Sb(),B.Ob(44,"div",20),B.Sb(),B.Sb(),B.Sb(),B.Tb(45,"h4",10),B.Tb(46,"span"),B.Bc(47,"Employees List"),B.Sb(),B.Sb(),B.Tb(48,"div",21),B.Tb(49,"div",22),B.Tb(50,"table",23),B.Rb(51,24),B.Ac(52,U,2,0,"th",25),B.Ac(53,L,2,1,"td",26),B.Qb(),B.Rb(54,27),B.Ac(55,V,2,0,"th",25),B.Ac(56,G,2,1,"td",26),B.Qb(),B.Rb(57,28),B.Ac(58,Q,2,0,"th",25),B.Ac(59,z,2,1,"td",26),B.Qb(),B.Rb(60,29),B.Ac(61,H,2,0,"th",25),B.Ac(62,j,2,1,"td",26),B.Qb(),B.Rb(63,30),B.Ac(64,_,2,0,"th",25),B.Ac(65,J,2,1,"td",26),B.Qb(),B.Rb(66,31),B.Ac(67,K,2,0,"th",25),B.Ac(68,Z,9,2,"td",26),B.Qb(),B.Ac(69,Y,1,0,"tr",32),B.Ac(70,ee,1,0,"tr",33),B.Ac(71,te,3,0,"tr",34),B.Sb(),B.Tb(72,"mat-paginator",35),B.ac("page",(function(e){return t.changePage(e)})),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&e&&(B.Bb(11),B.kc("formGroup",t.filterForm),B.Bb(3),B.Dc("","Filter Employees"," "),B.Bb(12),B.kc("value",0),B.Bb(2),B.kc("value",1),B.Bb(7),B.kc("ngForOf",t.roles),B.Bb(5),B.kc("routerLink",B.lc(12,oe)),B.Bb(10),B.kc("dataSource",t.dataSource),B.Bb(19),B.kc("matHeaderRowDef",t.displayedColumns),B.Bb(1),B.kc("matRowDefColumns",t.displayedColumns),B.Bb(2),B.kc("length",t.totalCount)("pageIndex",t.getFilterFormControlByName("pageNumber").value-1)("pageSize",t.getFilterFormControlByName("pageSize").value))},directives:[l.v,l.p,l.h,m.c,m.f,d.b,l.c,l.o,l.f,p.a,s.n,a.k,c.b,S.e,h.k,h.c,h.e,h.b,h.g,h.j,h.h,f.a,h.d,h.a,a.l,u.a,h.f,h.i],styles:[""]}),ve),path:"list-employees"},{component:(he=function(){function t(o,i,r,a,n,c){e(this,t),this.baseService=o,this.spinner=i,this.yesNoDialog=r,this.router=a,this.route=n,this.notification=c,this.displayedColumns=["User","Role","actions"],this.loockupsStatuses=q.b,this.roles=[],this.employeeRoles=[],this.employeeForm=new l.g({id:new l.d,fullName:new l.d("",l.u.required),userName:new l.d({value:"",disabled:!0},l.u.required),phoneNumber:new l.d("",[l.u.required]),email:new l.d("",[l.u.required,l.u.email]),roleId:new l.d(1,l.u.required),isActive:new l.d,address:new l.d}),this.roleForm=new l.g({userId:new l.d(""),roleId:new l.d("",l.u.required)}),this.passwordForm=new l.g({password:new l.d("",[l.u.required,l.u.minLength(6)]),emailAddress:new l.d("",l.u.required)})}return o(t,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.employeeId=t.employeeId,e.getEmployee(t.employeeId),e.getRoles()}))}},{key:"getEmployeeRole",value:function(e){var t=this;this.baseService.getEmployeeRoles(e).subscribe((function(e){t.employeeRoles=e,t.dataSource=new h.l(t.employeeRoles)}))}},{key:"addEmployeeRoles",value:function(){var e=this,t=this.roleForm.getRawValue();this.baseService.AddEmployeeRoles(t).subscribe((function(t){e.notification.showNotification("Role Added Successfully","success"),e.getEmployeeRole(e.employeeId),e.roleForm.get("roleId").reset()}),(function(t){e.notification.showNotification("something went wrong please contact your administrator","danger")}))}},{key:"getRoleNameById",value:function(e){var t=this.roles.find((function(t){return t.id==e}));return t?t.name:t}},{key:"removeEmployeeRoles",value:function(e,t){var o=this;this.baseService.removeEmployeeRoles({userId:e,roleId:t}).subscribe((function(e){o.notification.showNotification("Role Deleted Successfully","success"),o.getEmployeeRole(o.employeeId)}),(function(e){o.notification.showNotification("something went wrong please contact your administrator","danger")}))}},{key:"getRoles",value:function(){var e=this;this.baseService.getEmployeesRoles().subscribe((function(t){e.roles=t}))}},{key:"getEmployee",value:function(e){var t=this;this.spinner.show(),this.baseService.getById(x.b.Employee,e).subscribe((function(o){t.employee=o,t.getEmployeeRole(e),t.getPasswordFormControlByName("emailAddress").setValue(t.employee.email),t.roleForm.get("userId").setValue(t.employee.id),console.log(t.employee),t.employeeForm.patchValue(t.employee),t.spinner.hide()}))}},{key:"getFormControlByName",value:function(e){return this.employeeForm.get(e)}},{key:"getPasswordFormControlByName",value:function(e){return this.passwordForm.get(e)}},{key:"submitForm",value:function(e){var t=this;this.employeeForm.invalid?(this.employeeForm.markAllAsTouched(),this.notification.showNotification("Please Check Form Fields","warning")):(null===e&&void 0===e||this.getFormControlByName("isActive").setValue(e),this.baseService.updateEmployeeInfo(this.employeeForm.value).subscribe((function(e){t.notification.showNotification("Employee Modified Successfully","success"),t.router.navigate(["/employees-management/list-employees"]),t.getEmployee(t.employeeId)}),(function(e){console.log(e),t.notification.showNotification(400===e.status?e.error.Message:"Something went wrong please contact system admin","danger"),t.spinner.hide()})))}},{key:"changePassword",value:function(){var e=this;this.passwordForm.invalid?(this.passwordForm.markAllAsTouched(),this.notification.showNotification("Please Check Password Field","warning")):this.baseService.postItem(x.b.Employee,x.a.ChangePassword,this.passwordForm.value).subscribe((function(t){e.notification.showNotification("Employee Password Modified Successfully","success"),e.passwordForm.reset()}),(function(t){console.log(t),e.notification.showNotification(400===t.status?t.error.Message:"Something went wrong please contact system admin","danger"),e.spinner.hide()}))}}]),t}(),he.\u0275fac=function(e){return new(e||he)(B.Nb(w.a),B.Nb(N.c),B.Nb(b.b),B.Nb(S.d),B.Nb(S.a),B.Nb(T.a))},he.\u0275cmp=B.Hb({type:he,selectors:[["app-view-edit-employee"]],decls:79,vars:14,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-primary"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[3,"formGroup"],[1,"col-6"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","fullName","placeholder","Full Name"],[4,"ngIf"],["matInput","","formControlName","email","placeholder","Email"],["matInput","","formControlName","phoneNumber","placeholder","Phone Number"],["matInput","","formControlName","address","placeholder","Address"],["mat-raised-button","","type","submit",1,"btn","btn-primary","pull-right",3,"disabled","click"],[1,"clearfix"],["matInput","","type","password","formControlName","password","placeholder","Change Employee Password"],["mat-raised-button","","type","submit",1,"btn","btn-primary","pull-left",3,"disabled","click"],["formControlName","roleId"],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"mat-elevation-z8","w-100"],["mat-table","","matSort","",1,"w-100",3,"dataSource"],["matColumnDef","User"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Role"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["class","data-row","mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","aria-label","Deactivate",1,"btn","btn-danger","m-2",3,"click"],["mat-header-row",""],["mat-row","",1,"data-row"]],template:function(e,t){1&e&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"div",3),B.Tb(4,"div",4),B.Tb(5,"div",5),B.Tb(6,"h3",6),B.Bc(7,"Employee Management"),B.Sb(),B.Tb(8,"p",7),B.Bc(9,"Edit Employee"),B.Sb(),B.Sb(),B.Tb(10,"div",8),B.Tb(11,"form",9),B.Tb(12,"div",2),B.Tb(13,"div",10),B.Tb(14,"mat-form-field",11),B.Tb(15,"mat-label"),B.Bc(16,"Full Name"),B.Sb(),B.Ob(17,"input",12),B.Ac(18,ie,2,0,"mat-error",13),B.Sb(),B.Sb(),B.Tb(19,"div",10),B.Tb(20,"mat-form-field",11),B.Tb(21,"mat-label"),B.Bc(22,"Email"),B.Sb(),B.Ob(23,"input",14),B.Ac(24,re,2,0,"mat-error",13),B.Sb(),B.Sb(),B.Tb(25,"div",10),B.Tb(26,"mat-form-field",11),B.Tb(27,"mat-label"),B.Bc(28,"Phone Number"),B.Sb(),B.Ob(29,"input",15),B.Ac(30,ae,2,0,"mat-error",13),B.Sb(),B.Sb(),B.Tb(31,"div",10),B.Tb(32,"mat-form-field",11),B.Tb(33,"mat-label"),B.Bc(34,"Address"),B.Sb(),B.Ob(35,"input",16),B.Sb(),B.Sb(),B.Sb(),B.Tb(36,"button",17),B.ac("click",(function(){return t.submitForm(t.employee.isActive)})),B.Bc(37,"Save Changes"),B.Sb(),B.Ob(38,"div",18),B.Sb(),B.Ob(39,"br"),B.Ob(40,"hr"),B.Tb(41,"form",9),B.Tb(42,"div",2),B.Tb(43,"div",10),B.Tb(44,"mat-form-field",11),B.Tb(45,"mat-label"),B.Bc(46,"New Password"),B.Sb(),B.Ob(47,"input",19),B.Ac(48,ne,2,0,"mat-error",13),B.Sb(),B.Sb(),B.Tb(49,"div",10),B.Tb(50,"button",20),B.ac("click",(function(){return t.changePassword()})),B.Bc(51,"Change Password"),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Ob(52,"br"),B.Ob(53,"hr"),B.Tb(54,"form",9),B.Tb(55,"div",2),B.Tb(56,"div",10),B.Tb(57,"mat-form-field",11),B.Tb(58,"mat-label"),B.Bc(59,"Roles"),B.Sb(),B.Tb(60,"mat-select",21),B.Ac(61,le,2,2,"mat-option",22),B.Sb(),B.Sb(),B.Sb(),B.Tb(62,"div",10),B.Tb(63,"button",20),B.ac("click",(function(){return t.addEmployeeRoles()})),B.Bc(64,"Add Role"),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Tb(65,"div",23),B.Tb(66,"div",24),B.Tb(67,"table",25),B.Rb(68,26),B.Ac(69,ce,2,0,"th",27),B.Ac(70,se,2,1,"td",28),B.Qb(),B.Rb(71,29),B.Ac(72,be,2,0,"th",27),B.Ac(73,me,2,1,"td",28),B.Qb(),B.Rb(74,30),B.Ac(75,ue,2,0,"th",27),B.Ac(76,de,4,0,"td",28),B.Qb(),B.Ac(77,fe,1,0,"tr",31),B.Ac(78,pe,1,0,"tr",32),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&e&&(B.Bb(11),B.kc("formGroup",t.employeeForm),B.Bb(7),B.kc("ngIf",t.getFormControlByName("fullName").touched&&t.getFormControlByName("fullName").invalid),B.Bb(6),B.kc("ngIf",t.getFormControlByName("email").touched&&t.getFormControlByName("email").invalid),B.Bb(6),B.kc("ngIf",t.getFormControlByName("phoneNumber").touched&&t.getFormControlByName("phoneNumber").invalid),B.Bb(6),B.kc("disabled",t.employeeForm.invalid),B.Bb(5),B.kc("formGroup",t.passwordForm),B.Bb(7),B.kc("ngIf",t.getPasswordFormControlByName("password").touched&&t.getPasswordFormControlByName("password").invalid),B.Bb(2),B.kc("disabled",t.passwordForm.invalid),B.Bb(4),B.kc("formGroup",t.roleForm),B.Bb(7),B.kc("ngForOf",t.roles),B.Bb(2),B.kc("disabled",t.roleForm.invalid),B.Bb(4),B.kc("dataSource",t.dataSource),B.Bb(10),B.kc("matHeaderRowDef",t.displayedColumns),B.Bb(1),B.kc("matRowDefColumns",t.displayedColumns))},directives:[l.v,l.p,l.h,m.c,m.f,d.b,l.c,l.o,l.f,a.l,c.b,p.a,a.k,h.k,h.c,h.e,h.b,h.g,h.j,m.b,s.n,h.d,h.a,u.a,h.f,h.i],styles:[".mat-cell[_ngcontent-%COMP%]{width:30%}form[_ngcontent-%COMP%]{overflow-x:hidden}"]}),he),path:"view-edit-employees/:employeeId"},{component:O,path:"create-new-employee"}],ge=((Se=function t(){e(this,t)}).\u0275mod=B.Lb({type:Se}),Se.\u0275inj=B.Kb({factory:function(e){return new(e||Se)},providers:[g.a,{provide:n.a,useClass:y.a,multi:!0}],imports:[[a.c,l.i,l.t,c.c,s.t,m.e,d.c,p.b,v.b,h.m,f.b,u.b,b.f,S.h.forChild(ye)]]}),Se)}}])}();