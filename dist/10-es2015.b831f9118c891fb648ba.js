(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{ELYh:function(e,t,n){"use strict";n.r(t),n.d(t,"PersonsManagementModule",(function(){return pe}));var o=n("ofXK"),a=n("tk/3"),r=n("gmcq"),i=n("inyj"),b=n("tyNb"),s=n("3Pt+"),l=n("bTqV"),c=n("FKr1"),d=n("kmnG"),m=n("qFsG"),p=n("d3UM"),u=n("Qu3c"),h=n("+0xr"),f=n("M9IT"),g=n("NFeN"),S=n("0IaG"),T=n("/1cH"),v=n("iadO"),C=n("wZkO"),N=n("Jxek"),B=n("SOzR"),P=n("62t3"),w=n("fXoL"),O=n("JqCM");function M(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}function k(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}function _(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}function y(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}function F(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}function x(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}function I(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}let A=(()=>{class e{constructor(e,t,n,o){this.baseService=e,this.spinner=t,this.router=n,this.notification=o,this.personForm=new s.g({firstName:new s.d("",s.u.required),secondName:new s.d("",s.u.required),thirdName:new s.d("",s.u.required),lastName:new s.d("",s.u.required),gender:new s.d("",s.u.required),saluation:new s.d("",s.u.required),mobileNo:new s.d("",s.u.required),personalEmail:new s.d("",s.u.required)}),this.personJobForm=new s.g({jobTitle:new s.d("",s.u.required),phoneExtension:new s.d("",s.u.required),email:new s.d("",s.u.required),businessId:new s.d("",s.u.required)})}ngOnInit(){}getFormControlByName(e){return this.personForm.get(e)}submitForm(){this.personForm.invalid?(this.personForm.markAllAsTouched(),this.notification.showNotification("Please Check Form Fields","warning")):(this.spinner.show(),this.baseService.postItem(P.b.Person,P.a.PostItem,this.personForm.value).subscribe(e=>{this.notification.showNotification("Person Added Successfully","success"),this.spinner.hide(),this.router.navigate(["/persons-management/list-persons"])},e=>{console.log(e),this.notification.showNotification(400===e.status?e.error.Message:"Something went wrong please contact system admin","danger"),this.spinner.hide()}))}}return e.\u0275fac=function(t){return new(t||e)(w.Nb(B.a),w.Nb(O.c),w.Nb(b.d),w.Nb(N.a))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-add-person"]],decls:75,vars:11,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-primary"],[1,"card-title"],[1,"card-category"],[1,"card-body"],["label","Person Information"],[3,"formGroup"],[1,"background"],[1,"col"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","firstName","placeholder","First Name"],[4,"ngIf"],["matInput","","formControlName","secondName","placeholder","Second Name"],["matInput","","formControlName","thirdName","placeholder","Third Name"],["matInput","","formControlName","lastName","placeholder","Last Name"],["formControlName","gender","name","gender"],[3,"value"],["matInput","","formControlName","saluation","placeholder","Saluation"],["matInput","","formControlName","mobileNo","placeholder","Mobile Number"],["matInput","","formControlName","personalEmail","placeholder","Personal Email"],["mat-raised-button","","type","submit",1,"btn","btn-primary","pull-right",3,"disabled","click"],[1,"clearfix"]],template:function(e,t){1&e&&(w.Tb(0,"div",0),w.Tb(1,"div",1),w.Tb(2,"div",2),w.Tb(3,"div",3),w.Tb(4,"div",4),w.Tb(5,"div",5),w.Tb(6,"h3",6),w.Bc(7,"Persons Management"),w.Sb(),w.Tb(8,"p",7),w.Bc(9,"Add Person"),w.Sb(),w.Sb(),w.Tb(10,"div",8),w.Tb(11,"mat-tab-group"),w.Tb(12,"mat-tab",9),w.Tb(13,"form",10),w.Tb(14,"h4",11),w.Tb(15,"span"),w.Bc(16,"Person Information "),w.Sb(),w.Sb(),w.Tb(17,"div",2),w.Tb(18,"div",12),w.Tb(19,"mat-form-field",13),w.Tb(20,"mat-label"),w.Bc(21,"First Name"),w.Sb(),w.Ob(22,"input",14),w.Ac(23,M,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Tb(24,"div",12),w.Tb(25,"mat-form-field",13),w.Tb(26,"mat-label"),w.Bc(27,"Second Name"),w.Sb(),w.Ob(28,"input",16),w.Ac(29,k,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Sb(),w.Tb(30,"div",2),w.Tb(31,"div",12),w.Tb(32,"mat-form-field",13),w.Tb(33,"mat-label"),w.Bc(34,"Third Name"),w.Sb(),w.Ob(35,"input",17),w.Ac(36,_,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Tb(37,"div",12),w.Tb(38,"mat-form-field",13),w.Tb(39,"mat-label"),w.Bc(40,"Last Name"),w.Sb(),w.Ob(41,"input",18),w.Ac(42,y,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Sb(),w.Tb(43,"div",2),w.Tb(44,"div",12),w.Tb(45,"mat-form-field",13),w.Tb(46,"mat-label"),w.Bc(47,"Gender"),w.Sb(),w.Tb(48,"mat-select",19),w.Tb(49,"mat-option",20),w.Bc(50," Male "),w.Sb(),w.Tb(51,"mat-option",20),w.Bc(52," Female "),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Tb(53,"div",12),w.Tb(54,"mat-form-field",13),w.Tb(55,"mat-label"),w.Bc(56,"Saluation"),w.Sb(),w.Ob(57,"input",21),w.Ac(58,F,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Sb(),w.Tb(59,"div",2),w.Tb(60,"div",12),w.Tb(61,"mat-form-field",13),w.Tb(62,"mat-label"),w.Bc(63,"Mobile Number"),w.Sb(),w.Ob(64,"input",22),w.Ac(65,x,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Tb(66,"div",12),w.Tb(67,"mat-form-field",13),w.Tb(68,"mat-label"),w.Bc(69,"Personal Email"),w.Sb(),w.Ob(70,"input",23),w.Ac(71,I,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Sb(),w.Tb(72,"button",24),w.ac("click",(function(){return t.submitForm()})),w.Bc(73,"Add"),w.Sb(),w.Ob(74,"div",25),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb()),2&e&&(w.Bb(13),w.kc("formGroup",t.personForm),w.Bb(10),w.kc("ngIf",t.getFormControlByName("firstName").touched&&t.getFormControlByName("firstName").invalid),w.Bb(6),w.kc("ngIf",t.getFormControlByName("secondName").touched&&t.getFormControlByName("secondName").invalid),w.Bb(7),w.kc("ngIf",t.getFormControlByName("thirdName").touched&&t.getFormControlByName("thirdName").invalid),w.Bb(6),w.kc("ngIf",t.getFormControlByName("lastName").touched&&t.getFormControlByName("lastName").invalid),w.Bb(7),w.kc("value","Male"),w.Bb(2),w.kc("value","Female"),w.Bb(7),w.kc("ngIf",t.getFormControlByName("saluation").touched&&t.getFormControlByName("saluation").invalid),w.Bb(7),w.kc("ngIf",t.getFormControlByName("mobileNo").touched&&t.getFormControlByName("mobileNo").invalid),w.Bb(6),w.kc("ngIf",t.getFormControlByName("personalEmail").touched&&t.getFormControlByName("personalEmail").invalid),w.Bb(1),w.kc("disabled",t.personForm.invalid))},directives:[C.b,C.a,s.v,s.p,s.h,d.c,d.f,m.b,s.c,s.o,s.f,o.l,p.a,c.n,l.b,d.b],styles:['.active-user-avatar[_ngcontent-%COMP%]{border:5px solid #47a44b}.not-active-user-avatar[_ngcontent-%COMP%]{border:5px solid #f44336}h4[_ngcontent-%COMP%]{font:20px sans-serif;margin-top:30px;text-align:center;color:rgba(33,37,41,.5686274509803921)}h4.background[_ngcontent-%COMP%]{position:relative;z-index:1}h4.background[_ngcontent-%COMP%]:before{border-top:2px solid #dfdfdf;content:"";margin:0 auto;position:absolute;top:50%;left:0;right:0;bottom:0;width:95%;z-index:-1}h4.background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 15px}h4.double[_ngcontent-%COMP%]:before{border-top:none}h4.double[_ngcontent-%COMP%]:after{border-bottom:1px solid #00f;box-shadow:0 1px 0 0 red;content:"";margin:0 auto;position:absolute;top:45%;left:0;right:0;width:95%;z-index:-1}h4.no-background[_ngcontent-%COMP%]{position:relative;overflow:hidden}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:baseline;zoom:1;*display:inline;*vertical-align:auto;position:relative;padding:0 20px}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;width:1000px;position:absolute;top:.73em;border-top:1px solid red}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{right:100%}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{left:100%}h4.no-span[_ngcontent-%COMP%]{display:table;white-space:nowrap}h4.no-span[_ngcontent-%COMP%]:after, h4.no-span[_ngcontent-%COMP%]:before{border-top:1px solid green;content:"";display:table-cell;position:relative;top:.5em;width:45%}h4.no-span[_ngcontent-%COMP%]:before{right:1.5%}h4.no-span[_ngcontent-%COMP%]:after{left:1.5%}agm-map[_ngcontent-%COMP%]{height:300px;width:100%}form[_ngcontent-%COMP%]{overflow-x:hidden}']}),e})();function q(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}function D(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}function E(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}function z(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}function L(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}function R(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}function G(e,t){1&e&&(w.Tb(0,"mat-error"),w.Bc(1," This field is required *"),w.Sb())}let Q=(()=>{class e{constructor(e,t,n,o,a){this.baseService=e,this.spinner=t,this.route=n,this.notification=o,this.router=a,this.personForm=new s.g({id:new s.d(""),firstName:new s.d("",s.u.required),secondName:new s.d("",s.u.required),thirdName:new s.d("",s.u.required),lastName:new s.d("",s.u.required),gender:new s.d("",s.u.required),saluation:new s.d("",s.u.required),mobileNo:new s.d("",s.u.required),personalEmail:new s.d("",s.u.required),approvalStatus:new s.d(0)})}ngOnInit(){this.route.params.subscribe(e=>{this.personId=e.personId,this.getPerson(e.personId)})}getPerson(e){this.spinner.show(),this.baseService.getById(P.b.Person,e).subscribe(e=>{this.person=e,this.personForm.patchValue(this.person),this.spinner.hide()},e=>{this.spinner.hide()})}getFormControlByName(e){return this.personForm.get(e)}submitForm(){this.personForm.invalid?(this.personForm.markAllAsTouched(),this.notification.showNotification("Please Check Form Fields","warning")):(this.spinner.show(),this.baseService.postItem(P.b.Person,P.a.EditItem,this.personForm.value).subscribe(e=>{this.notification.showNotification("Person Modified Successfully","success"),this.spinner.hide(),this.router.navigate(["/persons-management/list-persons"])},e=>{console.log(e),this.notification.showNotification(400===e.status?e.error.Message:"Something went wrong please contact system admin","danger"),this.spinner.hide()}))}}return e.\u0275fac=function(t){return new(t||e)(w.Nb(B.a),w.Nb(O.c),w.Nb(b.a),w.Nb(N.a),w.Nb(b.d))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-edit-person"]],decls:75,vars:11,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-primary"],[1,"card-title"],[1,"card-category"],[1,"card-body"],["label","Person Information"],[3,"formGroup"],[1,"background"],[1,"col"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","firstName","placeholder","First Name"],[4,"ngIf"],["matInput","","formControlName","secondName","placeholder","Second Name"],["matInput","","formControlName","thirdName","placeholder","Third Name"],["matInput","","formControlName","lastName","placeholder","Last Name"],["formControlName","gender","name","gender"],[3,"value"],["matInput","","formControlName","saluation","placeholder","Saluation"],["matInput","","formControlName","mobileNo","placeholder","Mobile Number"],["matInput","","formControlName","personalEmail","placeholder","Personal Email"],["mat-raised-button","","type","submit",1,"btn","btn-primary","pull-right",3,"disabled","click"],[1,"clearfix"]],template:function(e,t){1&e&&(w.Tb(0,"div",0),w.Tb(1,"div",1),w.Tb(2,"div",2),w.Tb(3,"div",3),w.Tb(4,"div",4),w.Tb(5,"div",5),w.Tb(6,"h3",6),w.Bc(7,"Persons Management"),w.Sb(),w.Tb(8,"p",7),w.Bc(9,"Edit Person"),w.Sb(),w.Sb(),w.Tb(10,"div",8),w.Tb(11,"mat-tab-group"),w.Tb(12,"mat-tab",9),w.Tb(13,"form",10),w.Tb(14,"h4",11),w.Tb(15,"span"),w.Bc(16,"Person Information "),w.Sb(),w.Sb(),w.Tb(17,"div",2),w.Tb(18,"div",12),w.Tb(19,"mat-form-field",13),w.Tb(20,"mat-label"),w.Bc(21,"First Name"),w.Sb(),w.Ob(22,"input",14),w.Ac(23,q,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Tb(24,"div",12),w.Tb(25,"mat-form-field",13),w.Tb(26,"mat-label"),w.Bc(27,"Second Name"),w.Sb(),w.Ob(28,"input",16),w.Ac(29,D,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Sb(),w.Tb(30,"div",2),w.Tb(31,"div",12),w.Tb(32,"mat-form-field",13),w.Tb(33,"mat-label"),w.Bc(34,"Third Name"),w.Sb(),w.Ob(35,"input",17),w.Ac(36,E,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Tb(37,"div",12),w.Tb(38,"mat-form-field",13),w.Tb(39,"mat-label"),w.Bc(40,"Last Name"),w.Sb(),w.Ob(41,"input",18),w.Ac(42,z,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Sb(),w.Tb(43,"div",2),w.Tb(44,"div",12),w.Tb(45,"mat-form-field",13),w.Tb(46,"mat-label"),w.Bc(47,"Gender"),w.Sb(),w.Tb(48,"mat-select",19),w.Tb(49,"mat-option",20),w.Bc(50," Male "),w.Sb(),w.Tb(51,"mat-option",20),w.Bc(52," Female "),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Tb(53,"div",12),w.Tb(54,"mat-form-field",13),w.Tb(55,"mat-label"),w.Bc(56,"Saluation"),w.Sb(),w.Ob(57,"input",21),w.Ac(58,L,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Sb(),w.Tb(59,"div",2),w.Tb(60,"div",12),w.Tb(61,"mat-form-field",13),w.Tb(62,"mat-label"),w.Bc(63,"Mobile Number"),w.Sb(),w.Ob(64,"input",22),w.Ac(65,R,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Tb(66,"div",12),w.Tb(67,"mat-form-field",13),w.Tb(68,"mat-label"),w.Bc(69,"Personal Email"),w.Sb(),w.Ob(70,"input",23),w.Ac(71,G,2,0,"mat-error",15),w.Sb(),w.Sb(),w.Sb(),w.Tb(72,"button",24),w.ac("click",(function(){return t.submitForm()})),w.Bc(73,"Save Changes"),w.Sb(),w.Ob(74,"div",25),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb()),2&e&&(w.Bb(13),w.kc("formGroup",t.personForm),w.Bb(10),w.kc("ngIf",t.getFormControlByName("firstName").touched&&t.getFormControlByName("firstName").invalid),w.Bb(6),w.kc("ngIf",t.getFormControlByName("secondName").touched&&t.getFormControlByName("secondName").invalid),w.Bb(7),w.kc("ngIf",t.getFormControlByName("thirdName").touched&&t.getFormControlByName("thirdName").invalid),w.Bb(6),w.kc("ngIf",t.getFormControlByName("lastName").touched&&t.getFormControlByName("lastName").invalid),w.Bb(7),w.kc("value","Male"),w.Bb(2),w.kc("value","Female"),w.Bb(7),w.kc("ngIf",t.getFormControlByName("saluation").touched&&t.getFormControlByName("saluation").invalid),w.Bb(7),w.kc("ngIf",t.getFormControlByName("mobileNo").touched&&t.getFormControlByName("mobileNo").invalid),w.Bb(6),w.kc("ngIf",t.getFormControlByName("personalEmail").touched&&t.getFormControlByName("personalEmail").invalid),w.Bb(1),w.kc("disabled",t.personForm.invalid))},directives:[C.b,C.a,s.v,s.p,s.h,d.c,d.f,m.b,s.c,s.o,s.f,o.l,p.a,c.n,l.b,d.b],styles:['.active-user-avatar[_ngcontent-%COMP%]{border:5px solid #47a44b}.not-active-user-avatar[_ngcontent-%COMP%]{border:5px solid #f44336}h4[_ngcontent-%COMP%]{font:20px sans-serif;margin-top:30px;text-align:center;color:rgba(33,37,41,.5686274509803921)}h4.background[_ngcontent-%COMP%]{position:relative;z-index:1}h4.background[_ngcontent-%COMP%]:before{border-top:2px solid #dfdfdf;content:"";margin:0 auto;position:absolute;top:50%;left:0;right:0;bottom:0;width:95%;z-index:-1}h4.background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 15px}h4.double[_ngcontent-%COMP%]:before{border-top:none}h4.double[_ngcontent-%COMP%]:after{border-bottom:1px solid #00f;box-shadow:0 1px 0 0 red;content:"";margin:0 auto;position:absolute;top:45%;left:0;right:0;width:95%;z-index:-1}h4.no-background[_ngcontent-%COMP%]{position:relative;overflow:hidden}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:baseline;zoom:1;*display:inline;*vertical-align:auto;position:relative;padding:0 20px}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;width:1000px;position:absolute;top:.73em;border-top:1px solid red}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{right:100%}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{left:100%}h4.no-span[_ngcontent-%COMP%]{display:table;white-space:nowrap}h4.no-span[_ngcontent-%COMP%]:after, h4.no-span[_ngcontent-%COMP%]:before{border-top:1px solid green;content:"";display:table-cell;position:relative;top:.5em;width:45%}h4.no-span[_ngcontent-%COMP%]:before{right:1.5%}h4.no-span[_ngcontent-%COMP%]:after{left:1.5%}agm-map[_ngcontent-%COMP%]{height:300px;width:100%}form[_ngcontent-%COMP%]{overflow-x:hidden}']}),e})();var V=n("Dh3D"),$=n("P8U+"),H=n("6osZ"),J=n("3qxa");function j(e,t){1&e&&(w.Tb(0,"th",35),w.Bc(1," First Name "),w.Sb())}function K(e,t){if(1&e&&(w.Tb(0,"td",36),w.Bc(1),w.Sb()),2&e){const e=t.$implicit;w.Bb(1),w.Dc(" ",e.firstName," ")}}function U(e,t){1&e&&(w.Tb(0,"th",35),w.Bc(1," Last Name "),w.Sb())}function X(e,t){if(1&e&&(w.Tb(0,"td",36),w.Bc(1),w.Sb()),2&e){const e=t.$implicit;w.Bb(1),w.Dc(" ",e.lastName," ")}}function Z(e,t){1&e&&(w.Tb(0,"th",35),w.Bc(1," Gender "),w.Sb())}function W(e,t){if(1&e&&(w.Tb(0,"td",36),w.Bc(1),w.Sb()),2&e){const e=t.$implicit;w.Bb(1),w.Dc(" ",e.gender," ")}}function Y(e,t){1&e&&(w.Tb(0,"th",35),w.Bc(1," Saluation "),w.Sb())}function ee(e,t){if(1&e&&(w.Tb(0,"td",36),w.Bc(1),w.Sb()),2&e){const e=t.$implicit;w.Bb(1),w.Dc(" ",e.saluation," ")}}function te(e,t){1&e&&(w.Tb(0,"th",35),w.Bc(1," Mobile Number "),w.Sb())}function ne(e,t){if(1&e&&(w.Tb(0,"td",36),w.Bc(1),w.Sb()),2&e){const e=t.$implicit;w.Bb(1),w.Dc(" ",e.mobileNo," ")}}function oe(e,t){1&e&&(w.Tb(0,"th",35),w.Bc(1," Personal Email "),w.Sb())}function ae(e,t){if(1&e&&(w.Tb(0,"td",36),w.Bc(1),w.Sb()),2&e){const e=t.$implicit;w.Bb(1),w.Dc(" ",e.personalEmail," ")}}function re(e,t){1&e&&(w.Tb(0,"th",35),w.Bc(1," Approval Status "),w.Sb())}function ie(e,t){if(1&e&&(w.Tb(0,"td",36),w.Bc(1),w.Sb()),2&e){const e=t.$implicit,n=w.ec();w.Bb(1),w.Dc(" ",n.checkApprovalStatus(e.approvalStatus)," ")}}function be(e,t){1&e&&(w.Tb(0,"th",35),w.Bc(1," Actions "),w.Sb())}function se(e,t){if(1&e){const e=w.Ub();w.Tb(0,"td",36),w.Tb(1,"button",37),w.ac("click",(function(){w.rc(e);const n=t.$implicit;return w.ec().viewItem(n.id)})),w.Tb(2,"mat-icon"),w.Bc(3," visibility "),w.Sb(),w.Sb(),w.Tb(4,"button",37),w.ac("click",(function(){w.rc(e);const n=t.$implicit;return w.ec().editItem(n.id)})),w.Tb(5,"mat-icon"),w.Bc(6,"create"),w.Sb(),w.Sb(),w.Tb(7,"button",38),w.ac("click",(function(){w.rc(e);const n=t.$implicit;return w.ec().delete(n.id)})),w.Tb(8,"mat-icon"),w.Bc(9,"delete_forever"),w.Sb(),w.Sb(),w.Sb()}}function le(e,t){1&e&&w.Ob(0,"tr",39)}function ce(e,t){1&e&&w.Ob(0,"tr",40)}function de(e,t){1&e&&(w.Tb(0,"tr",41),w.Tb(1,"td",42),w.Bc(2,"No data matching the filter "),w.Sb(),w.Sb())}const me=[{component:(()=>{class e{constructor(e,t,n,o,a){this.baseService=e,this.spinner=t,this.dialog=n,this.router=o,this.notification=a,this.displayedColumns=["firstName","lastName","gender","saluation","mobileNo","personalEmail","approvalStatus","actions"],this.loockupsStatuses=H.b,this.personesList=[],this.filterForm=new s.g({approvalStatus:new s.d,searchValue:new s.d,pageNumber:new s.d(1),pageSize:new s.d(100)})}ngOnInit(){this.listPersons()}listPersons(){this.spinner.show(),this.baseService.getList(P.b.Person,this.filterForm.value).subscribe(e=>{this.personesList=e.entities,this.totalCount=e.totalCount,this.dataSource=new h.l(this.personesList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.spinner.hide()})}changePage(e){this.getFilterFormControlByName("pageNumber").setValue(e.pageIndex+1),this.getFilterFormControlByName("pageSize").setValue(e.pageSize),this.listPersons()}getFilterFormControlByName(e){return this.filterForm.get(e)}editItem(e){this.router.navigate(["/persons-management/edit-person/"+e])}viewItem(e){this.router.navigate(["/persons-management/view-person/"+e])}applyFilter(){this.listPersons()}checkApprovalStatus(e){return 0==e?"New":1==e?"Approved":2==e?"Declined":void 0}delete(e){this.dialog.open($.a,{maxWidth:"400px",data:{title:"Delete Person",content:"Are you sure?"}}).afterClosed().subscribe(t=>{t&&(this.spinner.show(),this.baseService.removeItem(P.b.Person,e).subscribe(e=>{this.notification.showNotification("Person Deleted Successfully","success"),this.listPersons()},e=>{this.spinner.hide(),this.notification.showNotification(400===e.status?e.error.Message:"Something went wrong please contact system admin","danger")}))})}openPersonMap(e,t){console.log(e,t),this.dialog.open(J.a,{data:{latitude:e,longitude:t}}).afterClosed().subscribe(e=>{})}deleteItemFromList(e){this.personesList=this.personesList.filter(t=>t.id!==e)}restFilter(){this.filterForm.reset(),this.filterForm.get("pageNumber").setValue(1),this.filterForm.get("pageSize").setValue(10),this.listPersons()}}return e.\u0275fac=function(t){return new(t||e)(w.Nb(B.a),w.Nb(O.c),w.Nb(S.b),w.Nb(b.d),w.Nb(N.a))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-list-persons"]],viewQuery:function(e,t){var n;1&e&&(w.Ec(f.a,!0),w.Ec(V.a,!0)),2&e&&(w.oc(n=w.bc())&&(t.paginator=n.first),w.oc(n=w.bc())&&(t.sort=n.first))},decls:73,vars:10,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-primary"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[3,"formGroup"],[1,"background"],[1,"col"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","searchValue","placeholder","Type your search value ..."],["formControlName","approvalStatus","name","status"],[3,"value"],["mat-raised-button","",1,"btn","btn-primary","pull-right",2,"margin","1px",3,"click"],[1,"clearfix"],[1,"table-responsive"],[1,"mat-elevation-z8","w-100"],["mat-table","","matSort","",1,"w-100",3,"dataSource"],["matColumnDef","firstName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lastName"],["matColumnDef","gender"],["matColumnDef","saluation"],["matColumnDef","mobileNo"],["matColumnDef","personalEmail"],["matColumnDef","approvalStatus"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["class","data-row","mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"length","pageIndex","pageSize","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","aria-label","Edit",1,"btn","btn-primary","m-2",3,"click"],["mat-icon-button","","aria-label","Deactivate",1,"btn","btn-danger","m-2",3,"click"],["mat-header-row",""],["mat-row","",1,"data-row"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(w.Tb(0,"div",0),w.Tb(1,"div",1),w.Tb(2,"div",2),w.Tb(3,"div",3),w.Tb(4,"div",4),w.Tb(5,"div",5),w.Tb(6,"h3",6),w.Bc(7,"Persons"),w.Sb(),w.Tb(8,"p",7),w.Bc(9," Persons Management"),w.Sb(),w.Sb(),w.Tb(10,"div",8),w.Tb(11,"form",9),w.Tb(12,"h4",10),w.Tb(13,"span"),w.Bc(14,"Filter Persons "),w.Sb(),w.Sb(),w.Tb(15,"div",2),w.Tb(16,"div",11),w.Tb(17,"mat-form-field",12),w.Tb(18,"mat-label"),w.Bc(19,"Filter By Text"),w.Sb(),w.Ob(20,"input",13),w.Sb(),w.Sb(),w.Tb(21,"div",11),w.Tb(22,"mat-form-field",12),w.Tb(23,"mat-label"),w.Bc(24,"Status"),w.Sb(),w.Tb(25,"mat-select",14),w.Tb(26,"mat-option",15),w.Bc(27," New "),w.Sb(),w.Tb(28,"mat-option",15),w.Bc(29," Approved "),w.Sb(),w.Tb(30,"mat-option",15),w.Bc(31," Declined "),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Tb(32,"div",2),w.Tb(33,"div",3),w.Tb(34,"button",16),w.ac("click",(function(){return t.applyFilter()})),w.Bc(35,"Search"),w.Sb(),w.Tb(36,"button",16),w.ac("click",(function(){return t.restFilter()})),w.Bc(37,"Reset Filter"),w.Sb(),w.Ob(38,"div",17),w.Sb(),w.Sb(),w.Sb(),w.Tb(39,"h4",10),w.Tb(40,"span"),w.Bc(41,"Persons List"),w.Sb(),w.Sb(),w.Tb(42,"div",18),w.Tb(43,"div",19),w.Tb(44,"table",20),w.Rb(45,21),w.Ac(46,j,2,0,"th",22),w.Ac(47,K,2,1,"td",23),w.Qb(),w.Rb(48,24),w.Ac(49,U,2,0,"th",22),w.Ac(50,X,2,1,"td",23),w.Qb(),w.Rb(51,25),w.Ac(52,Z,2,0,"th",22),w.Ac(53,W,2,1,"td",23),w.Qb(),w.Rb(54,26),w.Ac(55,Y,2,0,"th",22),w.Ac(56,ee,2,1,"td",23),w.Qb(),w.Rb(57,27),w.Ac(58,te,2,0,"th",22),w.Ac(59,ne,2,1,"td",23),w.Qb(),w.Rb(60,28),w.Ac(61,oe,2,0,"th",22),w.Ac(62,ae,2,1,"td",23),w.Qb(),w.Rb(63,29),w.Ac(64,re,2,0,"th",22),w.Ac(65,ie,2,1,"td",23),w.Qb(),w.Rb(66,30),w.Ac(67,be,2,0,"th",22),w.Ac(68,se,10,0,"td",23),w.Qb(),w.Ac(69,le,1,0,"tr",31),w.Ac(70,ce,1,0,"tr",32),w.Ac(71,de,3,0,"tr",33),w.Sb(),w.Tb(72,"mat-paginator",34),w.ac("page",(function(e){return t.changePage(e)})),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb()),2&e&&(w.Bb(11),w.kc("formGroup",t.filterForm),w.Bb(15),w.kc("value",0),w.Bb(2),w.kc("value",1),w.Bb(2),w.kc("value",2),w.Bb(14),w.kc("dataSource",t.dataSource),w.Bb(25),w.kc("matHeaderRowDef",t.displayedColumns),w.Bb(1),w.kc("matRowDefColumns",t.displayedColumns),w.Bb(2),w.kc("length",t.totalCount)("pageIndex",t.getFilterFormControlByName("pageNumber").value-1)("pageSize",t.getFilterFormControlByName("pageSize").value))},directives:[s.v,s.p,s.h,d.c,d.f,m.b,s.c,s.o,s.f,p.a,c.n,l.b,h.k,h.c,h.e,h.b,h.g,h.j,h.h,f.a,h.d,h.a,g.a,h.f,h.i],styles:['h4[_ngcontent-%COMP%]{font:20px sans-serif;margin-top:30px;text-align:center;color:rgba(33,37,41,.5686274509803921)}h4.background[_ngcontent-%COMP%]{position:relative;z-index:1}h4.background[_ngcontent-%COMP%]:before{border-top:2px solid #dfdfdf;content:"";margin:0 auto;position:absolute;top:50%;left:0;right:0;bottom:0;width:95%;z-index:-1}h4.background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 15px}h4.double[_ngcontent-%COMP%]:before{border-top:none}h4.double[_ngcontent-%COMP%]:after{border-bottom:1px solid #00f;box-shadow:0 1px 0 0 red;content:"";margin:0 auto;position:absolute;top:45%;left:0;right:0;width:95%;z-index:-1}h4.no-background[_ngcontent-%COMP%]{position:relative;overflow:hidden}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:baseline;zoom:1;*display:inline;*vertical-align:auto;position:relative;padding:0 20px}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;width:1000px;position:absolute;top:.73em;border-top:1px solid red}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{right:100%}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{left:100%}h4.no-span[_ngcontent-%COMP%]{display:table;white-space:nowrap}h4.no-span[_ngcontent-%COMP%]:after, h4.no-span[_ngcontent-%COMP%]:before{border-top:1px solid green;content:"";display:table-cell;position:relative;top:.5em;width:45%}h4.no-span[_ngcontent-%COMP%]:before{right:1.5%}h4.no-span[_ngcontent-%COMP%]:after{left:1.5%}.data-row[_ngcontent-%COMP%]{transition:.5s}.data-row[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,87.5%,.74)}.upload-btn-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0}']}),e})(),path:"list-persons"},{component:(()=>{class e{constructor(e,t,n,o,a){this.baseService=e,this.spinner=t,this.router=n,this.route=o,this.notification=a,this.loockupsStatuses=H.b,this.personForm=new s.g({id:new s.d(""),firstName:new s.d({value:"",disabled:!0}),secondName:new s.d({value:"",disabled:!0}),thirdName:new s.d({value:"",disabled:!0}),lastName:new s.d({value:"",disabled:!0}),gender:new s.d({value:"",disabled:!0}),saluation:new s.d({value:"",disabled:!0}),mobileNo:new s.d({value:"",disabled:!0}),personalEmail:new s.d({value:"",disabled:!0})})}ngOnInit(){this.route.params.subscribe(e=>{this.personId=e.personId,this.getPerson()})}getPerson(){this.baseService.getById(P.b.Person,this.personId).subscribe(e=>{this.person=e,this.personForm.patchValue(this.person)})}getFormControlByName(e){return this.personForm.get(e)}}return e.\u0275fac=function(t){return new(t||e)(w.Nb(B.a),w.Nb(O.c),w.Nb(b.d),w.Nb(b.a),w.Nb(N.a))},e.\u0275cmp=w.Hb({type:e,selectors:[["app-view-person"]],decls:65,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-primary"],[1,"card-title"],[1,"card-category"],[1,"card-body"],["label","Person Information"],[3,"formGroup"],[1,"background"],[1,"col"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","firstName","placeholder","First Name"],["matInput","","formControlName","secondName","placeholder","Second Name"],["matInput","","formControlName","thirdName","placeholder","Third Name"],["matInput","","formControlName","lastName","placeholder","Last Name"],["formControlName","gender","name","gender"],[3,"value"],["matInput","","formControlName","saluation","placeholder","Saluation"],["matInput","","formControlName","mobileNo","placeholder","Mobile Number"],["matInput","","formControlName","personalEmail","placeholder","Personal Email"]],template:function(e,t){1&e&&(w.Tb(0,"div",0),w.Tb(1,"div",1),w.Tb(2,"div",2),w.Tb(3,"div",3),w.Tb(4,"div",4),w.Tb(5,"div",5),w.Tb(6,"h3",6),w.Bc(7,"Persons Management"),w.Sb(),w.Tb(8,"p",7),w.Bc(9,"View Person"),w.Sb(),w.Sb(),w.Tb(10,"div",8),w.Tb(11,"mat-tab-group"),w.Tb(12,"mat-tab",9),w.Tb(13,"form",10),w.Tb(14,"h4",11),w.Tb(15,"span"),w.Bc(16,"Person Information "),w.Sb(),w.Sb(),w.Tb(17,"div",2),w.Tb(18,"div",12),w.Tb(19,"mat-form-field",13),w.Tb(20,"mat-label"),w.Bc(21,"First Name"),w.Sb(),w.Ob(22,"input",14),w.Sb(),w.Sb(),w.Tb(23,"div",12),w.Tb(24,"mat-form-field",13),w.Tb(25,"mat-label"),w.Bc(26,"Second Name"),w.Sb(),w.Ob(27,"input",15),w.Sb(),w.Sb(),w.Sb(),w.Tb(28,"div",2),w.Tb(29,"div",12),w.Tb(30,"mat-form-field",13),w.Tb(31,"mat-label"),w.Bc(32,"Third Name"),w.Sb(),w.Ob(33,"input",16),w.Sb(),w.Sb(),w.Tb(34,"div",12),w.Tb(35,"mat-form-field",13),w.Tb(36,"mat-label"),w.Bc(37,"Last Name"),w.Sb(),w.Ob(38,"input",17),w.Sb(),w.Sb(),w.Sb(),w.Tb(39,"div",2),w.Tb(40,"div",12),w.Tb(41,"mat-form-field",13),w.Tb(42,"mat-label"),w.Bc(43,"Gender"),w.Sb(),w.Tb(44,"mat-select",18),w.Tb(45,"mat-option",19),w.Bc(46," Male "),w.Sb(),w.Tb(47,"mat-option",19),w.Bc(48," Female "),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Tb(49,"div",12),w.Tb(50,"mat-form-field",13),w.Tb(51,"mat-label"),w.Bc(52,"Saluation"),w.Sb(),w.Ob(53,"input",20),w.Sb(),w.Sb(),w.Sb(),w.Tb(54,"div",2),w.Tb(55,"div",12),w.Tb(56,"mat-form-field",13),w.Tb(57,"mat-label"),w.Bc(58,"Mobile Number"),w.Sb(),w.Ob(59,"input",21),w.Sb(),w.Sb(),w.Tb(60,"div",12),w.Tb(61,"mat-form-field",13),w.Tb(62,"mat-label"),w.Bc(63,"Personal Email"),w.Sb(),w.Ob(64,"input",22),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb(),w.Sb()),2&e&&(w.Bb(13),w.kc("formGroup",t.personForm),w.Bb(32),w.kc("value","Male"),w.Bb(2),w.kc("value","Female"))},directives:[C.b,C.a,s.v,s.p,s.h,d.c,d.f,m.b,s.c,s.o,s.f,p.a,c.n],styles:['.active-user-avatar[_ngcontent-%COMP%]{border:5px solid #47a44b}.not-active-user-avatar[_ngcontent-%COMP%]{border:5px solid #f44336}h4[_ngcontent-%COMP%]{font:20px sans-serif;margin-top:30px;text-align:center;color:rgba(33,37,41,.5686274509803921)}h4.background[_ngcontent-%COMP%]{position:relative;z-index:1}h4.background[_ngcontent-%COMP%]:before{border-top:2px solid #dfdfdf;content:"";margin:0 auto;position:absolute;top:50%;left:0;right:0;bottom:0;width:95%;z-index:-1}h4.background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#fff;padding:0 15px}h4.double[_ngcontent-%COMP%]:before{border-top:none}h4.double[_ngcontent-%COMP%]:after{border-bottom:1px solid #00f;box-shadow:0 1px 0 0 red;content:"";margin:0 auto;position:absolute;top:45%;left:0;right:0;width:95%;z-index:-1}h4.no-background[_ngcontent-%COMP%]{position:relative;overflow:hidden}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:baseline;zoom:1;*display:inline;*vertical-align:auto;position:relative;padding:0 20px}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:block;width:1000px;position:absolute;top:.73em;border-top:1px solid red}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{right:100%}h4.no-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{left:100%}h4.no-span[_ngcontent-%COMP%]{display:table;white-space:nowrap}h4.no-span[_ngcontent-%COMP%]:after, h4.no-span[_ngcontent-%COMP%]:before{border-top:1px solid green;content:"";display:table-cell;position:relative;top:.5em;width:45%}h4.no-span[_ngcontent-%COMP%]:before{right:1.5%}h4.no-span[_ngcontent-%COMP%]:after{left:1.5%}agm-map[_ngcontent-%COMP%]{height:300px;width:100%}form[_ngcontent-%COMP%]{overflow-x:hidden}']}),e})(),path:"view-person/:personId"},{component:Q,path:"edit-person/:personId"},{component:A,path:"add-person"}];let pe=(()=>{class e{}return e.\u0275mod=w.Lb({type:e}),e.\u0275inj=w.Kb({factory:function(t){return new(t||e)},providers:[i.a,{provide:a.a,useClass:r.a,multi:!0}],imports:[[o.c,s.i,s.t,l.c,c.t,d.e,m.c,p.b,u.b,h.m,f.b,g.b,S.f,v.e,T.b,c.m,C.c,b.h.forChild(me)]]}),e})()}}]);